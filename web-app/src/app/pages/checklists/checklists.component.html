<app-toolbar [title]="'Checklists'"></app-toolbar>
<div class="box">
  <h3 class="user-title">Checklists Cadastrados</h3>
  <ng-container *ngFor="let checklist of checklists$ | async">
    <div class="wrapper">
      <mat-card>
        <mat-card-header>
          <mat-card-title>
            <b>
              {{ checklist.name }}
            </b>
          </mat-card-title>
          <mat-card-subtitle>{{ checklist.description }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-actions>
          <button mat-button (click)="visible = !visible">
            {{ visible ? "OCULTAR" : "VER" }}
          </button>
          <button mat-button color="warn" [disabled]="true">EXCLUIR</button>
        </mat-card-actions>
      </mat-card>
    </div>

    <div class="checklist-box" *ngIf="visible">
      <div class="center">
        <h3>Ver checklist</h3>
      </div>

      <mat-card>
        <mat-card-header>
          <mat-card-title>
            <b>
              {{ checklist.name }}
            </b>
          </mat-card-title>
          <mat-card-subtitle>{{ checklist.description }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <ul *ngFor="let section of checklist.sections">
            <li>{{ section.sectionName }}</li>
            <ul>
              <li *ngFor="let request of section.requests">
                {{ request.requestDescription }}
              </li>
            </ul>
          </ul>
        </mat-card-content>
      </mat-card>
    </div>
  </ng-container>
</div>
